<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkGold - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, Roboto, Oxygen, Ubuntu, sans-serif;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --bg-primary: #050510;
            --bg-secondary: #0a0a1a;
            --text-primary: #ffffff;
            --text-secondary: #8b9bda;
            --accent: #6366f1;
            --accent-hover: #4f46e5;
            --card-bg: #0f0f23;
            --border: #1a1a3a;
            --shadow: rgba(99, 102, 241, 0.1);
            --nav-bg: rgba(15, 15, 35, 0.85);
            --gold: #ffd700;
            --gold-gradient: linear-gradient(135deg, #ffd700, #ffb700);
            --purple-gradient: linear-gradient(135deg, #8b5cf6, #7c3aed);
            --blue-gradient: linear-gradient(135deg, #3b82f6, #2563eb);
            --teal-gradient: linear-gradient(135deg, #0ea5e9, #0369a1);
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
        }

        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 16px;
            padding-bottom: 100px;
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(99, 102, 241, 0.05) 0%, transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(139, 92, 246, 0.05) 0%, transparent 25%);
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            position: relative;
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            position: relative;
        }

        .logo {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            cursor: pointer;
        }

        .logo-text {
            font-size: 28px;
            font-weight: 800;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: -0.5px;
        }

        .slogan {
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: 20px;
        }

        .video-icon {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }

        .video-container {
            width: 100px;
            height: 100px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .video-large {
            width: 56px;
            height: 56px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid var(--border);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
        }

        .hero-banner {
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            height: 180px;
            background: linear-gradient(45deg, #0f0f23, #1a1a3a);
        }

        .hero-banner video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .stats-grid {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: space-between;
        }

        .stat-card {
            border-radius: 18px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            min-height: 120px;
            width: 48%;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            flex: 1;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform: translateZ(0);
        }

        .stat-card:active {
            transform: scale(0.97) translateZ(0);
        }

        .balance-card {
            background: var(--purple-gradient);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.2);
        }

        .support-card {
            background: var(--teal-gradient);
            box-shadow: 0 6px 20px rgba(14, 165, 233, 0.2);
        }

        .stat-icon {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 12px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 22px;
            font-weight: 800;
            color: white;
            line-height: 1.2;
        }

        .exchange-card {
            background: var(--gold-gradient);
            color: #000;
            border-radius: 18px;
            padding: 20px;
            margin-bottom: 16px;
            text-align: center;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.2);
        }

        .exchange-card:active {
            transform: scale(0.98);
        }

        .exchange-icon {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 12px;
        }

        .exchange-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 6px;
        }

        .exchange-text {
            font-size: 13px;
            opacity: 0.9;
            line-height: 1.3;
        }

        .post-promo {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 20px;
            text-align: center;
            border: 1px solid var(--border);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.15);
        }

        .post-icon {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 14px;
        }

        .post-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .post-description {
            color: var(--text-secondary);
            margin-bottom: 16px;
            font-size: 13px;
            line-height: 1.4;
        }

        .btn {
            display: inline-block;
            background: var(--accent);
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 14px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform: translateZ(0);
        }

        .btn:active {
            transform: scale(0.95) translateZ(0);
        }

        .btn-primary {
            background: var(--gold-gradient);
            color: #000;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(255, 204, 0, 0.25);
        }

        .btn-full {
            width: 100%;
        }

        .tasks-button-container {
            margin: 25px 0;
            text-align: center;
        }

        .tasks-btn {
            background: var(--purple-gradient);
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.25);
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .tasks-btn:active {
            transform: scale(0.96);
        }

        .bottom-nav {
            position: fixed;
            bottom: 16px;
            left: 16px;
            right: 16px;
            background: var(--nav-bg);
            border-radius: 18px;
            padding: 14px;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -8px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border);
            z-index: 1000;
            backdrop-filter: blur(15px);
        }

        .nav-item {
            text-align: center;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 14px;
            flex: 1;
            opacity: 0.7;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .nav-item.active {
            background: var(--accent);
            opacity: 1;
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.25);
            transform: translateY(-2px);
        }

        .nav-item.active .nav-icon,
        .nav-item.active .nav-label {
            color: white;
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
            color: var(--text-secondary);
        }

        .nav-label {
            font-size: 11px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(5, 5, 16, 0.95);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            padding: 20px;
        }

        .modal.active {
            opacity: 1;
            pointer-events: all;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 24px;
            width: 90%;
            max-width: 400px;
            border: 1px solid var(--border);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text-secondary);
            cursor: pointer;
            position: absolute;
            top: -10px;
            right: -10px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-body {
            margin-bottom: 20px;
            text-align: center;
        }

        .balance-amount {
            font-size: 48px;
            font-weight: 800;
            margin: 30px 0;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .profile-btn {
            background: var(--purple-gradient);
            color: white;
            border: none;
            padding: 16px 24px;
            border-radius: 14px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            text-align: center;
            margin-top: 20px;
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.25);
        }

        .chat-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(5, 5, 16, 0.95);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .chat-modal.active {
            opacity: 1;
            pointer-events: all;
        }

        .chat-header {
            background: var(--card-bg);
            padding: 16px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--purple-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .chat-info {
            flex: 1;
        }

        .chat-name {
            font-weight: 600;
            font-size: 16px;
        }

        .chat-status {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .chat-close {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text-secondary);
            cursor: pointer;
        }

        .chat-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 16px;
            margin-bottom: 4px;
        }

        .message-admin {
            background: var(--card-bg);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }

        .message-user {
            background: var(--accent);
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .chat-input {
            padding: 12px 16px;
            background: var(--card-bg);
            border-top: 1px solid var(--border);
            display: flex;
            gap: 12px;
        }

        .chat-input input {
            flex: 1;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 12px 16px;
            color: var(--text-primary);
            font-size: 14px;
        }

        .chat-send {
            background: var(--accent);
            border: none;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
        }

        .prices-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(5, 5, 16, 0.95);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .prices-modal.active {
            opacity: 1;
            pointer-events: all;
        }

        .prices-content {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 24px;
            width: 90%;
            max-width: 400px;
            border: 1px solid var(--border);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .prices-title {
            text-align: center;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .price-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }

        .price-item {
            background: var(--bg-secondary);
            padding: 16px;
            border-radius: 14px;
            display: flex;
            justify-content: between;
            align-items: center;
            border: 1px solid var(--border);
        }

        .price-time {
            font-weight: 600;
            flex: 1;
        }

        .price-amount {
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
            font-size: 18px;
        }

        .prices-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 14px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            text-align: center;
        }

        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding: 16px;
            background: var(--card-bg);
            border-radius: 20px;
            border: 1px solid var(--border);
        }
        
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 16px;
            position: relative;
            border: 3px solid var(--accent);
        }
        
        .profile-info {
            flex: 1;
        }
        
        .profile-name {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .profile-id {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }
        
        .profile-level {
            display: inline-block;
            background: var(--purple-gradient);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
        }
        
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .profile-stat {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px;
            text-align: center;
            border: 1px solid var(--border);
        }
        
        .stat-value {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 4px;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .profile-section {
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 12px;
            padding-left: 8px;
            border-left: 4px solid var(--accent);
        }
        
        .profile-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .profile-action {
            display: flex;
            align-items: center;
            padding: 16px;
            background: var(--card-bg);
            border-radius: 16px;
            border: 1px solid var(--border);
            cursor: pointer;
        }
        
        .action-icon {
            width: 24px;
            height: 24px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--blue-gradient);
            border-radius: 8px;
            color: white;
        }
        
        .action-text {
            flex: 1;
            font-size: 15px;
            font-weight: 500;
        }
        
        .action-arrow {
            color: var(--text-secondary);
        }
        
        .level-progress {
            margin-top: 20px;
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px;
            border: 1px solid var(--border);
        }
        
        .level-title {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .level-name {
            font-weight: 600;
        }
        
        .level-count {
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .progress-bar {
            height: 8px;
            background: var(--bg-secondary);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gold-gradient);
            border-radius: 4px;
            width: 0%;
        }
        
        .level-info {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .referral-system {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        
        .referral-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 12px;
            text-align: center;
        }
        
        .referral-code {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 16px;
            text-align: center;
            border: 1px solid var(--border);
        }
        
        .code-value {
            font-size: 20px;
            font-weight: 700;
            letter-spacing: 2px;
            margin-bottom: 8px;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .copy-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
        }
        
        .referral-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 16px;
        }
        
        .referral-stat {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            border: 1px solid var(--border);
        }
        
        .referral-value {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .referral-label {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .referral-info {
            font-size: 13px;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 10px;
        }
        
        .about-content {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--border);
        }
        
        .about-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 16px;
            text-align: center;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .about-text {
            font-size: 14px;
            line-height: 1.6;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }
        
        .about-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .about-feature {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 12px;
            text-align: center;
            border: 1px solid var(--border);
        }
        
        .feature-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }
        
        .feature-text {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .about-footer {
            text-align: center;
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 20px;
        }
        
        .tasks-tab {
            padding-bottom: 20px;
        }
        
        .tasks-tabs {
            display: flex;
            margin-bottom: 20px;
            background: var(--card-bg);
            border-radius: 16px;
            padding: 8px;
            border: 1px solid var(--border);
        }
        
        .task-tab {
            flex: 1;
            text-align: center;
            padding: 10px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .task-tab.active {
            background: var(--accent);
            color: white;
        }
        
        .search-container {
            margin-bottom: 20px;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 14px 16px 14px 45px;
            color: var(--text-primary);
            font-size: 14px;
        }
        
        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }
        
        .filters-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 5px;
        }
        
        .filter-btn {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 8px 16px;
            font-size: 12px;
            color: var(--text-secondary);
            cursor: pointer;
            white-space: nowrap;
        }
        
        .filter-btn.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        
        .tasks-grid {
            display: grid;
            gap: 16px;
        }
        
        .task-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .task-card:active {
            transform: scale(0.98);
        }
        
        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        
        .task-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .task-category {
            font-size: 12px;
            color: var(--text-secondary);
            background: var(--bg-secondary);
            padding: 2px 8px;
            border-radius: 8px;
            display: inline-block;
        }
        
        .task-price {
            font-size: 18px;
            font-weight: 700;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .task-description {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 16px;
            line-height: 1.4;
        }
        
        .task-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .task-time {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .task-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
        }
        
        .no-tasks {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
        }
        
        .no-tasks-icon {
            font-size: 40px;
            margin-bottom: 16px;
        }
        
        .task-modal-content {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 24px;
            width: 90%;
            max-width: 400px;
            border: 1px solid var(--border);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }
        
        .task-modal-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 16px;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .task-modal-category {
            display: inline-block;
            background: var(--bg-secondary);
            padding: 4px 12px;
            border-radius: 8px;
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }
        
        .task-modal-price {
            font-size: 24px;
            font-weight: 800;
            margin: 16px 0;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-align: center;
        }
        
        .task-modal-description {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 24px;
        }
        
        .task-modal-details {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 24px;
        }
        
        .task-detail {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .task-detail:last-child {
            margin-bottom: 0;
        }
        
        .task-detail-label {
            color: var(--text-secondary);
        }
        
        .task-detail-value {
            font-weight: 600;
        }
        
        .task-modal-buttons {
            display: flex;
            gap: 12px;
        }
        
        .task-modal-cancel {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border);
            padding: 12px;
            border-radius: 12px;
            flex: 1;
            cursor: pointer;
            font-weight: 600;
        }
        
        .task-modal-start {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 12px;
            flex: 1;
            cursor: pointer;
            font-weight: 600;
        }
        
        .confirmation-task {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px;
            border: 1px solid var(--border);
            margin-bottom: 16px;
        }
        
        .confirmation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .confirmation-title {
            font-size: 16px;
            font-weight: 600;
        }
        
        .confirmation-price {
            font-size: 18px;
            font-weight: 700;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .confirmation-question {
            font-size: 14px;
            margin-bottom: 16px;
            text-align: center;
        }
        
        .confirmation-buttons {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .confirmation-no {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border);
            padding: 10px;
            border-radius: 10px;
            flex: 1;
            cursor: pointer;
            font-weight: 600;
        }
        
        .confirmation-yes {
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 10px;
            flex: 1;
            cursor: pointer;
            font-weight: 600;
        }
        
        .confirmation-rejected {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            padding: 12px;
            border-radius: 10px;
            margin-top: 12px;
        }
        
        .confirmation-rejected-text {
            color: var(--error);
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .confirmation-support {
            background: var(--accent);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
        }
        
        .admin-panel {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--border);
        }
        
        .admin-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 16px;
            text-align: center;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .admin-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .admin-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            text-align: center;
        }
        
        .admin-form {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        .admin-input {
            width: 100%;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 12px;
            color: var(--text-primary);
            font-size: 14px;
            margin-bottom: 12px;
        }
        
        .admin-textarea {
            width: 100%;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 12px;
            color: var(--text-primary);
            font-size: 14px;
            margin-bottom: 12px;
            min-height: 100px;
            resize: vertical;
        }
        
        .admin-submit {
            background: var(--success);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
        }
        
        .admin-task-list {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .admin-task-item {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid var(--border);
        }
        
        .admin-task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .admin-task-title {
            font-size: 14px;
            font-weight: 600;
        }
        
        .admin-task-actions {
            display: flex;
            gap: 8px;
        }
        
        .admin-task-delete {
            background: var(--error);
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
        }
        
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .admin-section {
            display: none;
        }

        .post {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid var(--accent);
        }

        .post-content {
            margin-bottom: 10px;
            white-space: pre-wrap;
        }

        .post-meta {
            font-size: 12px;
            color: var(--text-secondary);
            border-top: 1px solid var(--border);
            padding-top: 10px;
        }

        .admin-badge {
            display: inline-block;
            background: var(--error);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 10px;
            margin-left: 8px;
            text-transform: uppercase;
        }

        .page-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .back-button {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 24px;
            margin-right: 12px;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: var(--bg-secondary);
        }

        .page-title {
            font-size: 24px;
            font-weight: 700;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .nav-icon img {
            width: 24px;
            height: 24px;
            object-fit: contain;
            filter: brightness(0) invert(0.7);
            transition: all 0.3s ease;
        }

        .nav-item.active .nav-icon img {
            filter: brightness(0) invert(1);
        }

        .admin-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .admin-list-item {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid var(--border);
        }

        .admin-list-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .admin-list-name {
            font-weight: 600;
            font-size: 16px;
            flex: 1;
        }

        .admin-list-info {
            color: var(--text-secondary);
            font-size: 14px;
            text-align: right;
            min-width: 150px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--accent);
            color: white;
            padding: 12px 16px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            z-index: 10000;
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 300px;
            animation: slideIn 0.3s ease-out;
            border: 1px solid var(--border);
        }

        .notification-error {
            background: var(--error);
        }

        .notification-success {
            background: var(--success);
        }

        .notification-warning {
            background: var(--warning);
        }

        .notification-content {
            flex: 1;
            font-size: 14px;
            font-weight: 500;
        }

        .notification-close {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 0;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @media (min-width: 768px) {
            .profile-stats {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .referral-stats {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .about-features {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .tasks-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .admin-buttons {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .withdraw-balance {
                font-size: 48px;
            }
            
            .withdraw-btn {
                padding: 16px 24px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <header class="header fade-in">
        <div class="logo" onclick="showMainTab()">
            <div class="logo-text">LinkGold</div>
        </div>
        <div class="slogan">–ú–æ–Ω–µ—Ç–∏–∑–∏—Ä—É–π—Ç–µ –≤–∞—à—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
    </header>

    <main class="main-content">
        <div id="main-tab" class="tab-content active">
            <div class="hero-banner fade-in">
                <video autoplay muted loop playsinline>
                    <source src="unwatermark_Awards Nomination Promo Kit_free.mp4" type="video/mp4">
                </video>
            </div>

            <div class="stats-grid fade-in">
                <div class="stat-card balance-card" onclick="showBalanceModal()">
                    <div class="stat-icon">
                        <div class="video-container">
                            <video class="video-icon" autoplay muted loop playsinline>
                                <source src="From KlickPin CF –î–µ–Ω—å–≥–∏ –ø–Ω–≥ _ money png _ –≠–ª–µ–º–µ–Ω—Ç—ã –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞ –ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –°—Ç–∏–∫–µ—Ä-–∞—Ä—Ç-Picsart-BackgroundRemover.mp4" type="video/mp4">
                            </video>
                        </div>
                    </div>
                    <div class="stat-label">–ë–∞–ª–∞–Ω—Å</div>
                    <div class="stat-value" id="user-balance-main">0 ‚≠ê</div>
                </div>
                
                <div class="stat-card support-card" onclick="openAdminChat()">
                    <div class="stat-icon">
                        <div class="video-container">
                            <video class="video-icon" autoplay muted loop playsinline>
                                <source src="support-video-Picsart-BackgroundRemover.mp4" type="video/mp4">
                            </video>
                        </div>
                    </div>
                    <div class="stat-label">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
                    <div class="stat-value">24/7</div>
                </div>
            </div>

            <div class="exchange-card fade-in" onclick="showHowItWorksPage()">
                <div class="exchange-icon">
                    <div class="video-container">
                        <video class="video-icon" autoplay muted loop playsinline>
                            <source src="From KlickPin CF –ö–æ–º–ø—é—Ç–µ—Ä –ø–Ω–≥ _ laptop png in 2025 ‚Äî –∫–æ–ø–∏—è-Picsart-BackgroundRemover (2).mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
                <div class="exchange-title">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                <div class="exchange-text">–û –∑–∞—Ä–∞–±–æ—Ç–∫–µ –∏ –≤—ã–≤–æ–¥–µ —Å—Ä–µ–¥—Å—Ç–≤</div>
            </div>

            <div class="post-promo fade-in">
                <div class="post-icon">
                    <div class="video-container video-large">
                        <video class="video-icon" autoplay muted loop playsinline>
                            <source src="post-video-Picsart-BackgroundRemover.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
                <div class="post-title">–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ –ø–æ—Å—Ç</div>
                <div class="post-description">–†–µ–∫–ª–∞–º–∏—Ä—É–π—Ç–µ –≤ –Ω–∞—à–µ–º –∫–∞–Ω–∞–ª–µ –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –æ—Ö–≤–∞—Ç –∞—É–¥–∏—Ç–æ—Ä–∏–∏</div>
                <button class="btn btn-primary btn-full" onclick="showPrices()">–†–∞–∑–º–µ—Å—Ç–∏—Ç—å</button>
            </div>

            <div class="tasks-button-container fade-in">
                <button class="tasks-btn" onclick="showTasksTab()">
                    –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è
                </button>
            </div>

            <div id="posts-section" class="fade-in" style="display: none; margin-top: 20px;">
                <div class="posts-header">
                    <h2 style="color: var(--text-primary); margin-bottom: 25px; text-align: center; font-size: 24px;">üì¢ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</h2>
                </div>
                <div id="posts-container"></div>
            </div>
        </div>

        <div id="tasks-tab" class="tab-content tasks-tab">
            <div class="tasks-tabs">
                <div class="task-tab active" onclick="showTaskCategory('new')">–ù–æ–≤—ã–µ</div>
                <div class="task-tab" id="confirmation-tab" onclick="showTaskCategory('confirmation')">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</div>
                <div class="task-tab" onclick="showTaskCategory('completed')">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</div>
                <div class="task-tab" onclick="showTaskCategory('rejected')">–û—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–µ</div>
            </div>
            
            <div class="search-container fade-in">
                <div class="search-icon">üîç</div>
                <input type="text" class="search-input" id="task-search" placeholder="–ü–æ–∏—Å–∫ –∑–∞–¥–∞–Ω–∏–π...">
            </div>
            
            <div class="filters-container fade-in">
                <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
                <button class="filter-btn" data-filter="social">–°–æ—Ü—Å–µ—Ç–∏</button>
                <button class="filter-btn" data-filter="subscribe">–ü–æ–¥–ø–∏—Å–∫–∏</button>
                <button class="filter-btn" data-filter="view">–ü—Ä–æ—Å–º–æ—Ç—Ä—ã</button>
                <button class="filter-btn" data-filter="comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</button>
                <button class="filter-btn" data-filter="repost">–†–µ–ø–æ—Å—Ç—ã</button>
            </div>
            
            <div id="new-tasks" class="tasks-grid"></div>
            <div id="confirmation-tasks" class="tasks-grid" style="display: none;"></div>
            <div id="completed-tasks" class="tasks-grid" style="display: none;"></div>
            <div id="rejected-tasks" class="tasks-grid" style="display: none;"></div>
        </div>
        
        <div id="profile-tab" class="tab-content">
            <div class="profile-header fade-in">
                <div class="profile-avatar">
                    <img id="user-photo" src="" alt="–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div class="profile-info">
                    <div class="profile-name" id="user-first-name">–ò–º—è</div>
                    <div class="profile-id">TG: @<span id="user-username">username</span></div>
                    <div class="profile-level">–£—Ä–æ–≤–µ–Ω—å <span id="user-level">0</span></div>
                </div>
            </div>
            
            <div class="profile-stats fade-in">
                <div class="profile-stat">
                    <div class="stat-value">0 ‚≠ê</div>
                    <div class="stat-label">–ë–∞–ª–∞–Ω—Å</div>
                </div>
                <div class="profile-stat">
                    <div class="stat-value">0</div>
                    <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
                </div>
                <div class="profile-stat">
                    <div class="stat-value">0</div>
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö</div>
                </div>
                <div class="profile-stat">
                    <div class="stat-value">0%</div>
                    <div class="stat-label">–ö–∞—á–µ—Å—Ç–≤–æ</div>
                </div>
            </div>
            
            <div class="level-progress fade-in">
                <div class="level-title">
                    <span class="level-name">–ü—Ä–æ–≥—Ä–µ—Å—Å —É—Ä–æ–≤–Ω—è</span>
                    <span class="level-count">0/10 –∑–∞–¥–∞–Ω–∏–π</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="level-progress-bar"></div>
                </div>
                <div class="level-info">
                    –í—ã–ø–æ–ª–Ω–∏—Ç–µ 10 –∑–∞–¥–∞–Ω–∏–π –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è 1 —É—Ä–æ–≤–Ω—è
                </div>
            </div>
            
            <div class="referral-system fade-in">
                <div class="referral-title">–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</div>
                
                <div class="referral-code">
                    <div class="referral-label">–í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞</div>
                    <input type="text" id="referral-link" readonly style="width: 100%; padding: 8px; margin: 8px 0; background: var(--bg-primary); border: 1px solid var(--border); border-radius: 8px; color: var(--text-primary); text-align: center;">
                    <button class="copy-btn" onclick="copyReferralLink()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
                </div>
                
                <div class="referral-stats">
                    <div class="referral-stat">
                        <div class="referral-value" id="ref-invited">0</div>
                        <div class="referral-label">–ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ</div>
                    </div>
                    <div class="referral-stat">
                        <div class="referral-value" id="ref-earned">0 ‚≠ê</div>
                        <div class="referral-label">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ</div>
                    </div>
                </div>
                
                <div class="referral-info">
                    –ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π—Ç–µ 10% –æ—Ç –∏—Ö –∑–∞—Ä–∞–±–æ—Ç–∫–∞!
                </div>
            </div>
            
            <div class="profile-section fade-in">
                <div class="section-title">–î–µ–π—Å—Ç–≤–∏—è</div>
                <div class="profile-actions">
                    <div class="profile-action" onclick="showWithdrawPage()">
                        <div class="action-icon">üí≥</div>
                        <div class="action-text">–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</div>
                        <div class="action-arrow">‚Ä∫</div>
                    </div>
                    <div class="profile-action" onclick="showHowItWorksPage()">
                        <div class="action-icon">‚ùì</div>
                        <div class="action-text">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                        <div class="action-arrow">‚Ä∫</div>
                    </div>
                    <div class="profile-action" onclick="showAboutPage()">
                        <div class="action-icon">‚ÑπÔ∏è</div>
                        <div class="action-text">–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</div>
                        <div class="action-arrow">‚Ä∫</div>
                    </div>
                </div>
            </div>
            
            <div class="profile-section fade-in">
                <div class="section-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                <div class="profile-actions">
                    <div class="profile-action" onclick="openAdminChat()">
                        <div class="action-icon">üõü</div>
                        <div class="action-text">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
                        <div class="action-arrow">‚Ä∫</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="admin-tab" class="tab-content">
            <div class="page-header">
                <button class="back-button" onclick="showMainTab()">‚Üê</button>
                <div class="page-title">–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</div>
            </div>

            <div class="admin-panel">
                <div class="admin-buttons">
                    <button class="admin-btn" onclick="showAdminSection('admins')" id="add-admins-btn-tab">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞–º–∏</button>
                    <button class="admin-btn" onclick="showAdminSection('posts')">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–º–∏</button>
                    <button class="admin-btn" onclick="showAdminSection('tasks')">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è–º–∏</button>
                    <button class="admin-btn" onclick="showAdminSection('verification')">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞–Ω–∏–π</button>
                    <button class="admin-btn" onclick="showAdminSection('support')">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>
                </div>

                <div id="admin-admins-section" class="admin-section">
                    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏</h3>
                    
                    <div class="admin-form">
                        <h4>–î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h4>
                        <input type="text" class="admin-input" id="admin-username-tab" placeholder="–í–≤–µ–¥–∏—Ç–µ —é–∑–µ—Ä–Ω–µ–π–º (–±–µ–∑ @)">
                        <button class="admin-submit" onclick="addAdminFromTab()">–î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∞</button>
                    </div>
                    
                    <div class="admin-list" style="margin-top: 20px;">
                        <h4>–¢–µ–∫—É—â–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã</h4>
                        <div id="admins-list-tab"></div>
                    </div>
                </div>

                <div id="admin-posts-section" class="admin-section" style="display: none;">
                    <h3>–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å—Ç –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                    <div class="admin-form">
                        <input type="text" class="admin-input" id="admin-post-title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ—Å—Ç–∞">
                        <textarea class="admin-textarea" id="admin-post-content" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞..."></textarea>
                        <input type="file" class="admin-input" id="admin-post-image" accept="image/*">
                        <button class="admin-submit" onclick="addNewPost()">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
                    </div>
                    
                    <h3 style="margin-top: 20px;">–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ—Å—Ç—ã</h3>
                    <div id="admin-posts-list"></div>
                </div>

                <div id="admin-tasks-section" class="admin-section" style="display: none;">
                    <h3>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</h3>
                    <div class="admin-form">
                        <input type="text" class="admin-input" id="admin-task-title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è">
                        <textarea class="admin-textarea" id="admin-task-description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è"></textarea>
                        <input type="text" class="admin-input" id="admin-task-price" placeholder="–¶–µ–Ω–∞ (–≤ —Ä—É–±–ª—è—Ö)">
                        <input type="text" class="admin-input" id="admin-task-time" placeholder="–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è">
                        <input type="text" class="admin-input" id="admin-task-difficulty" placeholder="–°–ª–æ–∂–Ω–æ—Å—Ç—å">
                        <input type="number" class="admin-input" id="admin-task-people" placeholder="–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –¥–æ–ª–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å">
                        <input type="text" class="admin-input" id="admin-task-repost" placeholder="–í—Ä–µ–º—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏">
                        <input type="url" class="admin-input" id="admin-task-url" placeholder="URL –∑–∞–¥–∞–Ω–∏—è">
                        <input type="file" class="admin-input" id="admin-task-image" accept="image/*">
                        <button class="admin-submit" onclick="addTask()">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
                    </div>
                    
                    <h3 style="margin-top: 20px;">–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–¥–∞–Ω–∏—è</h3>
                    <div id="admin-tasks-list"></div>
                </div>

                <div id="admin-verification-section" class="admin-section" style="display: none;">
                    <h3>–ó–∞–¥–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ</h3>
                    <div id="admin-verification-list"></div>
                </div>

                <div id="admin-support-section" class="admin-section" style="display: none;">
                    <h3>üí¨ –ß–∞—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h3>
                    
                    <div class="chat-tabs" style="margin-bottom: 15px;">
                        <button class="chat-tab-btn active" onclick="showChatTab('active')">–ê–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Ç—ã</button>
                        <button class="chat-tab-btn" onclick="showChatTab('archived')">–ê—Ä—Ö–∏–≤–Ω—ã–µ —á–∞—Ç—ã</button>
                        <button class="chat-tab-btn" onclick="showChatTab('all')">–í—Å–µ —á–∞—Ç—ã</button>
                    </div>
                    
                    <div class="chat-stats" style="margin-bottom: 15px; padding: 10px; background: var(--bg-secondary); border-radius: 10px;">
                        <div style="display: flex; justify-content: space-between; font-size: 12px;">
                            <span>–ê–∫—Ç–∏–≤–Ω—ã–µ: <strong id="active-chats-count">0</strong></span>
                            <span>–ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ: <strong id="unread-chats-count">0</strong></span>
                            <span>–í—Å–µ–≥–æ: <strong id="total-chats-count">0</strong></span>
                        </div>
                    </div>
                    
                    <div id="active-chats-list" class="admin-chat-list"></div>
                    <div id="archived-chats-list" class="admin-chat-list" style="display: none;"></div>
                    <div id="all-chats-list" class="admin-chat-list" style="display: none;"></div>
                </div>
            </div>
        </div>

        <div id="how-it-works-page" class="page">
            <div class="page-header">
                <button class="back-button" onclick="showProfileTab()">‚Üê</button>
                <div class="page-title">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç LinkGold</div>
            </div>

            <div class="card">
                <p class="about-text">LinkGold ‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞–Ω–∏–π –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö.</p>
                
                <p class="about-text">–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã:</p>
                <ul class="about-text" style="padding-left: 20px; margin-bottom: 16px;">
                    <li><strong>–í—ã–±–∏—Ä–∞–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è</strong> –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤ –≤–∞—à–µ–º –ø—Ä–æ—Ñ–∏–ª–µ</li>
                    <li><strong>–í—ã–ø–æ–ª–Ω—è–π—Ç–µ</strong> –∏—Ö —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</li>
                    <li><strong>–ü–æ–ª—É—á–∞–π—Ç–µ –æ–ø–ª–∞—Ç—É</strong> —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏</li>
                    <li><strong>–í—ã–≤–æ–¥–∏—Ç–µ —Å—Ä–µ–¥—Å—Ç–≤–∞</strong> —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º</li>
                </ul>
                
                <p class="about-text">–í–∏–¥—ã –∑–∞–¥–∞–Ω–∏–π:</p>
                <ul class="about-text" style="padding-left: 20px; margin-bottom: 16px;">
                    <li>–ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã –∏ –∞–∫–∫–∞—É–Ω—Ç—ã</li>
                    <li>–ü—Ä–æ—Å–º–æ—Ç—Ä—ã –∏ –ª–∞–π–∫–∏</li>
                    <li>–†–µ–ø–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</li>
                    <li>–£—á–∞—Å—Ç–∏–µ –≤ –æ–ø—Ä–æ—Å–∞—Ö</li>
                </ul>

                <div class="about-features">
                    <div class="about-feature">
                        <div class="feature-icon">üöÄ</div>
                        <div class="feature-text">–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</div>
                    </div>
                    <div class="about-feature">
                        <div class="feature-icon">üíé</div>
                        <div class="feature-text">–ß–µ—Å—Ç–Ω—ã–µ —É—Å–ª–æ–≤–∏—è</div>
                    </div>
                    <div class="about-feature">
                        <div class="feature-icon">üõ°Ô∏è</div>
                        <div class="feature-text">–ù–∞–¥–µ–∂–Ω–∞—è –∑–∞—â–∏—Ç–∞</div>
                    </div>
                    <div class="about-feature">
                        <div class="feature-icon">üìà</div>
                        <div class="feature-text">–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–æ—Å—Ç</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="about-page" class="page">
            <div class="page-header">
                <button class="back-button" onclick="showProfileTab()">‚Üê</button>
                <div class="page-title">–û LinkGold</div>
            </div>

            <div class="card">
                <p class="about-text">LinkGold ‚Äî —ç—Ç–æ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –º–æ–Ω–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ. –ú—ã —Å–æ–∑–¥–∞–ª–∏ —É–¥–æ–±–Ω—ã–π –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –≥–¥–µ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏ –ø–æ–ª—É—á–∞—Ç—å –∑–∞ —ç—Ç–æ –¥–æ—Å—Ç–æ–π–Ω–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ.</p>
                
                <p class="about-text">–ù–∞—à–∞ –º–∏—Å—Å–∏—è ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö, –∫—Ç–æ –≥–æ—Ç–æ–≤ –ø—Ä–æ—è–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏. –ú—ã –≤–µ—Ä–∏–º, —á—Ç–æ –∫–∞–∂–¥—ã–π –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–æ–Ω–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–µ –≤—Ä–µ–º—è –∏ —É—Å–∏–ª–∏—è, –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–µ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ.</p>
                
                <p class="about-text">–ú—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —É–ª—É—á—à–µ–Ω–∏–µ–º —Å–µ—Ä–≤–∏—Å–∞, –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞. –ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–±–æ—Ç–∏—Ç—Å—è –æ –∫–∞–∂–¥–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ —Å—Ç—Ä–µ–º–∏—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –ª—É—á—à–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –≤–∑–∞–∏–º–æ–≤—ã–≥–æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞.</p>
                
                <div class="about-footer">
                    LinkGold ¬© 2023. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
                </div>
            </div>
        </div>

        <div id="withdraw-page" class="page">
            <div class="page-header">
                <button class="back-button" onclick="goBackToProfile()">‚Üê</button>
                <div class="page-title">üí≥ –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</div>
            </div>

            <div class="card">
                <div class="balance-amount" id="withdraw-balance">0 ‚≠ê</div>
                <p class="about-text" style="text-align: center; margin-bottom: 20px;">–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –≤—ã–≤–æ–¥–∞</p>

                <div class="withdraw-info" style="background: var(--bg-secondary); padding: 15px; border-radius: 12px; margin-bottom: 20px;">
                    <h4 style="margin-bottom: 10px;">üìã –£—Å–ª–æ–≤–∏—è –≤—ã–≤–æ–¥–∞:</h4>
                    <ul style="color: var(--text-secondary); font-size: 14px; padding-left: 20px;">
                        <li>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞: <strong>50 ‚≠ê</strong></li>
                        <li>–í—ã–≤–æ–¥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ <strong>24 —á–∞—Å–æ–≤</strong></li>
                        <li>–ö–æ–º–∏—Å—Å–∏—è: <strong>0%</strong> –¥–ª—è –≤—Å–µ—Ö —Å–ø–æ—Å–æ–±–æ–≤</li>
                        <li>–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã: –∫–∞—Ä—Ç—ã, QIWI, –ÆMoney</li>
                    </ul>
                </div>

                <div class="admin-form">
                    <h3>–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥</h3>
                    <input type="number" class="admin-input" id="withdraw-amount" placeholder="–°—É–º–º–∞ –≤—ã–≤–æ–¥–∞ (–º–∏–Ω–∏–º—É–º 50 ‚≠ê)" min="50">
                    <select class="admin-input" id="withdraw-method">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –≤—ã–≤–æ–¥–∞</option>
                        <option value="card">üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</option>
                        <option value="qiwi">üü† QIWI –ö–æ—à–µ–ª–µ–∫</option>
                        <option value="yoomoney">üîµ –ÆMoney</option>
                        <option value="crypto">‚Çø –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ (USDT)</option>
                    </select>
                    <input type="text" class="admin-input" id="withdraw-details" placeholder="–†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –≤—ã–≤–æ–¥–∞">
                    <button class="admin-submit" onclick="submitWithdraw()">–ó–∞–∫–∞–∑–∞—Ç—å –≤—ã–ø–ª–∞—Ç—É</button>
                </div>

                <div class="withdraw-history" style="margin-top: 25px;">
                    <h4 style="margin-bottom: 15px;">üìä –ò—Å—Ç–æ—Ä–∏—è –≤—ã–≤–æ–¥–æ–≤</h4>
                    <div id="withdraw-history-list" style="background: var(--bg-secondary); border-radius: 12px; padding: 15px;">
                        <div style="text-align: center; color: var(--text-secondary); font-size: 14px;">
                            –ò—Å—Ç–æ—Ä–∏—è –≤—ã–≤–æ–¥–æ–≤ –ø—É—Å—Ç–∞
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <nav class="bottom-nav">
        <div class="nav-item active" onclick="showMainTab()">
            <div class="nav-icon">
                <img src="free-icon-home-7102764.png" alt="–ì–ª–∞–≤–Ω–∞—è">
            </div>
            <div class="nav-label">–ì–ª–∞–≤–Ω–∞—è</div>
        </div>
        <div class="nav-item" onclick="showTasksTab()">
            <div class="nav-icon">
                <img src="free-icon-task-list-4173330.png" alt="–ó–∞–¥–∞–Ω–∏—è">
            </div>
            <div class="nav-label">–ó–∞–¥–∞–Ω–∏—è</div>
        </div>
        <div class="nav-item" onclick="showProfileTab()">
            <div class="nav-icon">
                <img src="free-icon-profile-4042565.png" alt="–ü—Ä–æ—Ñ–∏–ª—å">
            </div>
            <div class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</div>
        </div>
        <div class="nav-item" id="admin-nav-item" onclick="showAdminTab()" style="display: none;">
            <div class="nav-icon">‚öôÔ∏è</div>
            <div class="nav-label">–ê–¥–º–∏–Ω</div>
        </div>
    </nav>

    <div class="modal" id="balance-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">üí∞ –í–∞—à –±–∞–ª–∞–Ω—Å</div>
                <button class="modal-close" onclick="closeModal('balance-modal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="balance-amount">0 ‚≠ê</div>
                <button class="profile-btn" onclick="goToProfile()">–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å</button>
            </div>
        </div>
    </div>

    <div class="modal" id="prices-modal">
        <div class="prices-content">
            <div class="prices-title">üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω–∏—è</div>
            <div class="price-grid">
                <div class="price-item">
                    <span class="price-time">1 —á–∞—Å</span>
                    <span class="price-amount">200 ‚ÇΩ</span>
                </div>
                <div class="price-item">
                    <span class="price-time">3 —á–∞—Å–∞</span>
                    <span class="price-amount">600 ‚ÇΩ</span>
                </div>
                <div class="price-item">
                    <span class="price-time">1 –¥–µ–Ω—å</span>
                    <span class="price-amount">4 500 ‚ÇΩ</span>
                </div>
                <div class="price-item">
                    <span class="price-time">7 –¥–Ω–µ–π</span>
                    <span class="price-amount">20 000 ‚ÇΩ</span>
                </div>
            </div>
            <button class="prices-btn" onclick="openAdminChatFromPrices()">
                üí¨ –ù–∞–ø–∏—Å–∞—Ç—å –æ —Ä–µ–∫–ª–∞–º–µ
            </button>
        </div>
    </div>

    <div class="modal" id="task-modal">
        <div class="modal-content task-modal-content">
            <div class="modal-header">
                <div class="task-modal-title" id="task-modal-title">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</div>
                <button class="modal-close" onclick="closeModal('task-modal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="task-modal-category" id="task-modal-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
                <div class="task-modal-price" id="task-modal-price">0 ‚≠ê</div>
                <div class="task-modal-description" id="task-modal-description">–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</div>
                
                <div class="task-modal-details">
                    <div class="task-detail">
                        <span class="task-detail-label">–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</span>
                        <span class="task-detail-value" id="task-modal-time">5 –º–∏–Ω</span>
                    </div>
                    <div class="task-detail">
                        <span class="task-detail-label">–°–ª–æ–∂–Ω–æ—Å—Ç—å:</span>
                        <span class="task-detail-value" id="task-modal-difficulty">–õ–µ–≥–∫–∞—è</span>
                    </div>
                    <div class="task-detail">
                        <span class="task-detail-label">–û—Å—Ç–∞–ª–æ—Å—å:</span>
                        <span class="task-detail-value" id="task-modal-available">15 –∑–∞–¥–∞–Ω–∏–π</span>
                    </div>
                </div>
                
                <div class="task-modal-buttons">
                    <button class="task-modal-cancel" onclick="closeModal('task-modal')">–û—Ç–º–µ–Ω–∞</button>
                    <button class="task-modal-start" onclick="startTask()">–ù–∞—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="confirmation-modal">
        <div class="confirmation-modal-content">
            <div class="confirmation-icon">‚ùì</div>
            <div class="confirmation-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</div>
            <div class="confirmation-text" id="confirmation-task-text">–í—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –∑–∞–¥–∞–Ω–∏–µ "<span id="confirmation-task-name"></span>"?</div>
            
            <div class="confirmation-buttons">
                <button class="confirmation-btn confirmation-yes" onclick="showScreenshotUpload()">–î–∞, –≤—ã–ø–æ–ª–Ω–∏–ª</button>
                <button class="confirmation-btn confirmation-no" onclick="showCancelConfirmation()">–ù–µ—Ç, –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª</button>
            </div>
            
            <button class="confirmation-btn confirmation-cancel" onclick="closeModal('confirmation-modal')">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <div class="modal" id="cancel-confirmation-modal">
        <div class="confirmation-modal-content">
            <div class="confirmation-icon">‚ö†Ô∏è</div>
            <div class="confirmation-title">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</div>
            <div class="confirmation-text">–í—ã —Ç–æ—á–Ω–æ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ —ç—Ç–æ –∑–∞–¥–∞–Ω–∏–µ?</div>
            
            <div class="confirmation-buttons">
                <button class="confirmation-btn confirmation-no" onclick="cancelTask()">–ù–µ –≤—ã–ø–æ–ª–Ω–∏–ª</button>
                <button class="confirmation-btn confirmation-yes" onclick="showScreenshotUpload()">–í—ã–ø–æ–ª–Ω–∏–ª</button>
            </div>
            
            <button class="confirmation-btn confirmation-cancel" onclick="closeModal('cancel-confirmation-modal')">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <div class="modal" id="screenshot-modal">
        <div class="confirmation-modal-content">
            <div class="confirmation-icon">üì∏</div>
            <div class="confirmation-title">–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç</div>
            <div class="confirmation-text">–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º</div>
            
            <div class="screenshot-upload">
                <input type="file" id="screenshot-file" class="file-input" accept="image/*">
                <button class="upload-btn" onclick="document.getElementById('screenshot-file').click()">
                    üìÅ –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
                </button>
                <img id="screenshot-preview" class="screenshot-preview" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–∫—Ä–∏–Ω—à–æ—Ç–∞">
                <div id="file-name" style="font-size: 14px; color: var(--text-secondary); margin-bottom: 16px;"></div>
            </div>
            
            <div class="confirmation-buttons">
                <button class="confirmation-btn confirmation-cancel" onclick="closeModal('screenshot-modal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="confirmation-btn confirmation-yes" onclick="submitScreenshot()" id="submit-screenshot-btn" disabled>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É</button>
            </div>
        </div>
    </div>

    <div class="verification-modal" id="verification-modal">
        <div class="verification-modal-content">
            <div class="verification-modal-header">
                <div class="verification-modal-user">
                    <div class="verification-modal-avatar" id="verification-user-avatar">U</div>
                    <div class="verification-modal-user-info">
                        <div class="verification-modal-user-name" id="verification-user-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                        <div class="verification-modal-task" id="verification-task-title">–ó–∞–¥–∞–Ω–∏–µ</div>
                    </div>
                </div>
                <div class="verification-modal-price" id="verification-task-price">0 ‚≠ê</div>
            </div>
            
            <div class="confirmation-text">–°–∫—Ä–∏–Ω—à–æ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è:</div>
            <img id="verification-screenshot" class="verification-modal-screenshot" alt="–°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–¥–∞–Ω–∏—è">
            
            <div class="verification-modal-actions">
                <button class="verification-reject" onclick="rejectVerification()">‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
                <button class="verification-approve" onclick="approveVerification()">‚úÖ –û–¥–æ–±—Ä–∏—Ç—å</button>
            </div>
            
            <button class="confirmation-btn confirmation-cancel" onclick="closeModal('verification-modal')" style="margin-top: 16px; width: 100%;">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <div class="chat-modal" id="admin-chat">
        <div class="chat-header">
            <div class="chat-avatar">
                <div class="video-icon">üí¨</div>
            </div>
            <div class="chat-info">
                <div class="chat-name">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä LinkGold</div>
                <div class="chat-status">TG: @linkgold_admin</div>
            </div>
            <button class="chat-close" onclick="closeChat()">√ó</button>
        </div>
        <div class="chat-messages" id="chat-messages">
            <div class="message message-admin">
                –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?
            </div>
        </div>
        <div class="chat-input">
            <input type="text" id="chat-input-field" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
            <button class="chat-send" onclick="sendMessageToAdmin()">‚û§</button>
        </div>
    </div>

    <script>
        // üîß –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
        const API_URL = 'https://telegram-community1-production.up.railway.app/api';
        const tg = window.Telegram.WebApp;
        const ADMIN_ID = 8036875641;

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentUser = null;
        let currentChatId = null;
        let currentAdminChat = null;
        let selectedTaskId = null;
        let allTasks = [];
        let currentUserTaskId = null;
        let currentVerificationId = null;

        // –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
        async function makeRequest(url, options = {}) {
            try {
                const response = await fetch(url, {
                    headers: {
                        'Content-Type': 'application/json',
                        ...options.headers
                    },
                    ...options
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Request failed:', error);
                showNotification(`–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: ${error.message}`, 'error');
                throw error;
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Initializing LinkGold app...');
            
            if (typeof tg !== 'undefined') {
                tg.expand();
                tg.ready();
                initializeTelegramUser();
            } else {
                console.log('Telegram Web App context not available');
                initializeTestUser();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
        async function initializeTelegramUser() {
            try {
                if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
                    const tgUser = tg.initDataUnsafe.user;
                    
                    currentUser = {
                        id: tgUser.id,
                        firstName: tgUser.first_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
                        lastName: tgUser.last_name || '',
                        username: tgUser.username || `user_${tgUser.id}`,
                        photoUrl: tgUser.photo_url || '',
                        isAdmin: false,
                        isMainAdmin: false
                    };
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–ª–∞–≤–Ω—ã–º –∞–¥–º–∏–Ω–æ–º
                    if (parseInt(currentUser.id) === ADMIN_ID) {
                        currentUser.isAdmin = true;
                        currentUser.isMainAdmin = true;
                    }
                    
                    // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
                    try {
                        const authResult = await makeRequest(`${API_URL}/user/auth`, {
                            method: 'POST',
                            body: JSON.stringify({
                                user: currentUser
                            })
                        });
                        
                        if (authResult.success) {
                            Object.assign(currentUser, authResult.user);
                            
                            if (!currentUser.isMainAdmin && parseInt(currentUser.id) === ADMIN_ID) {
                                currentUser.isMainAdmin = true;
                                currentUser.isAdmin = true;
                            }
                        }
                    } catch (authError) {
                        console.log('Auth endpoint not available, continuing with basic user data');
                    }
                    
                    initializeApp();
                    
                } else {
                    console.log('Telegram user data not available');
                    initializeTestUser();
                }
            } catch (error) {
                console.error('Error initializing Telegram user:', error);
                initializeTestUser();
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–±–µ–∑ Telegram)
        function initializeTestUser() {
            currentUser = {
                id: 123456789,
                firstName: '–ê–ª–µ–∫—Å–µ–π',
                lastName: '–ò–≤–∞–Ω–æ–≤',
                username: 'alexey_test',
                isAdmin: false,
                balance: 150,
                level: 1,
                tasks_completed: 5,
                active_tasks: 2,
                quality_rate: 95,
                referral_count: 3,
                referral_earned: 450
            };
            initializeApp();
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        function initializeApp() {
            displayUserProfile();
            checkAdminRights();
            loadMainPagePosts();
            loadTasks();
            initializeSearch();
            loadUserTasks();
            
            // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            startUserDataAutoUpdate();
            
            // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω, –∑–∞–≥—Ä—É–∂–∞–µ–º –∞–¥–º–∏–Ω-–¥–∞–Ω–Ω—ã–µ
            if (currentUser && currentUser.isAdmin) {
                loadAdminChats();
                loadAdminTasks();
                loadTaskVerifications();
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function startUserDataAutoUpdate() {
            setInterval(() => {
                if (currentUser) {
                    updateUserData();
                }
            }, 30000);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function updateUserData() {
            if (!currentUser) return;
            
            try {
                const result = await makeRequest(`${API_URL}/user/${currentUser.id}`);
                if (result.success) {
                    currentUser = { ...currentUser, ...result.profile };
                    displayUserProfile();
                    console.log('‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã:', currentUser.balance);
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function displayUserProfile() {
            if (!currentUser) return;

            const firstNameElement = document.getElementById('user-first-name');
            const usernameElement = document.getElementById('user-username');
            const levelElement = document.getElementById('user-level');
            const balanceElement = document.getElementById('user-balance-main');
            const withdrawBalanceElement = document.getElementById('withdraw-balance');
            
            if (firstNameElement) {
                const fullName = currentUser.lastName ? 
                    `${currentUser.firstName} ${currentUser.lastName}` : 
                    currentUser.firstName;
                firstNameElement.textContent = fullName;
            }
            
            if (usernameElement) usernameElement.textContent = currentUser.username;
            if (levelElement) levelElement.textContent = currentUser.level || 0;
            
            const userBalance = currentUser.balance || 0;
            if (balanceElement) balanceElement.textContent = `${userBalance} ‚≠ê`;
            if (withdrawBalanceElement) withdrawBalanceElement.textContent = `${userBalance} ‚≠ê`;
            
            const userPhotoElement = document.getElementById('user-photo');
            if (userPhotoElement) {
                if (currentUser.photoUrl) {
                    userPhotoElement.src = currentUser.photoUrl;
                } else {
                    userPhotoElement.style.display = 'flex';
                    userPhotoElement.style.alignItems = 'center';
                    userPhotoElement.style.justifyContent = 'center';
                    userPhotoElement.style.backgroundColor = '#6366f1';
                    userPhotoElement.style.color = 'white';
                    userPhotoElement.style.fontWeight = 'bold';
                    userPhotoElement.innerHTML = currentUser.firstName.charAt(0);
                }
            }
            
            updateProfileStats();
            updateReferralSystem();
            updateLevelProgress();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
        function updateProfileStats() {
            if (!currentUser) return;
            
            const stats = document.querySelectorAll('.profile-stat .stat-value');
            if (stats.length >= 4) {
                stats[0].textContent = `${currentUser.balance || 0} ‚≠ê`;
                stats[1].textContent = currentUser.tasks_completed || 0;
                stats[2].textContent = currentUser.active_tasks || 0;
                stats[3].textContent = `${currentUser.quality_rate || 0}%`;
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
        function updateReferralSystem() {
            if (!currentUser) return;
            
            const referralLink = `https://t.me/LinkGoldMoney_bot?start=ref_${currentUser.id}`;
            const referralInput = document.getElementById('referral-link');
            if (referralInput) referralInput.value = referralLink;
            
            document.getElementById('ref-invited').textContent = currentUser.referral_count || 0;
            document.getElementById('ref-earned').textContent = `${currentUser.referral_earned || 0} ‚≠ê`;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —É—Ä–æ–≤–Ω—è
        function updateLevelProgress() {
            if (!currentUser) return;
            
            const experience = currentUser.experience || 0;
            const currentLevel = currentUser.level || 0;
            const experienceForNextLevel = (currentLevel + 1) * 100;
            const experienceInCurrentLevel = experience % 100;
            const progressPercent = (experienceInCurrentLevel / 100) * 100;
            
            const progressBar = document.getElementById('level-progress-bar');
            const levelCount = document.querySelector('.level-count');
            
            if (progressBar) {
                progressBar.style.width = `${progressPercent}%`;
            }
            
            if (levelCount) {
                levelCount.textContent = `${experienceInCurrentLevel}/100 –æ–ø—ã—Ç–∞`;
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        function checkAdminRights() {
            const adminNavItem = document.getElementById('admin-nav-item');
            const adminPanel = document.getElementById('admin-panel');
            const addAdminsBtnTab = document.getElementById('add-admins-btn-tab');
            
            if (currentUser && currentUser.isAdmin) {
                if (adminNavItem) adminNavItem.style.display = 'flex';
                if (adminPanel) adminPanel.style.display = 'block';
                
                if (addAdminsBtnTab) {
                    addAdminsBtnTab.style.display = currentUser.isMainAdmin ? 'block' : 'none';
                }
                
                currentUser.isMainAdmin = (parseInt(currentUser.id) === ADMIN_ID);
            } else {
                if (adminNavItem) adminNavItem.style.display = 'none';
                if (adminPanel) adminPanel.style.display = 'none';
            }
        }

        // üîß –§–£–ù–ö–¶–ò–ò –î–õ–Ø –í–ö–õ–ê–î–û–ö –ó–ê–î–ê–ù–ò–ô
        function showTaskCategory(category) {
            console.log('Switching to task category:', category);
            
            document.getElementById('new-tasks').style.display = 'none';
            document.getElementById('confirmation-tasks').style.display = 'none';
            document.getElementById('completed-tasks').style.display = 'none';
            document.getElementById('rejected-tasks').style.display = 'none';
            
            document.querySelectorAll('.task-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            let targetContainer = null;
            let targetTab = null;
            
            switch(category) {
                case 'new':
                    targetContainer = document.getElementById('new-tasks');
                    targetTab = document.querySelector('.task-tab:nth-child(1)');
                    targetContainer.style.display = 'block';
                    if (allTasks.length === 0) {
                        loadTasks();
                    }
                    break;
                    
                case 'confirmation':
                    targetContainer = document.getElementById('confirmation-tasks');
                    targetTab = document.querySelector('.task-tab:nth-child(2)');
                    targetContainer.style.display = 'block';
                    loadUserTasksForCategory('active');
                    break;
                    
                case 'completed':
                    targetContainer = document.getElementById('completed-tasks');
                    targetTab = document.querySelector('.task-tab:nth-child(3)');
                    targetContainer.style.display = 'block';
                    loadUserTasksForCategory('completed');
                    break;
                    
                case 'rejected':
                    targetContainer = document.getElementById('rejected-tasks');
                    targetTab = document.querySelector('.task-tab:nth-child(4)');
                    targetContainer.style.display = 'block';
                    loadUserTasksForCategory('rejected');
                    break;
            }
            
            if (targetTab) {
                targetTab.classList.add('active');
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        async function loadUserTasksForCategory(status) {
            if (!currentUser) return;
            
            try {
                const result = await makeRequest(`${API_URL}/user/${currentUser.id}/tasks?status=${status}`);
                if (result.success) {
                    displayUserTasksForCategory(result.tasks, status);
                } else {
                    showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞–Ω–∏–π: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error loading user tasks for category:', error);
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞–Ω–∏–π', 'error');
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function displayUserTasksForCategory(tasks, status) {
            let container = null;
            
            switch(status) {
                case 'active':
                    container = document.getElementById('confirmation-tasks');
                    break;
                case 'completed':
                    container = document.getElementById('completed-tasks');
                    break;
                case 'rejected':
                    container = document.getElementById('rejected-tasks');
                    break;
            }
            
            if (!container) return;
            
            container.innerHTML = '';

            if (!tasks || tasks.length === 0) {
                let message = '';
                switch(status) {
                    case 'active':
                        message = '–ù–µ—Ç –∑–∞–¥–∞–Ω–∏–π –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ';
                        break;
                    case 'completed':
                        message = '–ù–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π';
                        break;
                    case 'rejected':
                        message = '–ù–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π';
                        break;
                }
                
                container.innerHTML = `
                    <div class="no-tasks">
                        <div class="no-tasks-icon">üìù</div>
                        <div>${message}</div>
                    </div>
                `;
                return;
            }

            tasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.className = `task-card ${status === 'rejected' ? 'rejected-task' : ''}`;
                
                if (status === 'active') {
                    taskElement.innerHTML = `
                        <div class="task-header">
                            <div>
                                <div class="task-title">${escapeHtml(task.title)}</div>
                                <div class="task-category">${task.category || '–û–±—â–µ–µ'}</div>
                            </div>
                            <div class="task-price">${task.price} ‚≠ê</div>
                        </div>
                        <div class="task-description">${escapeHtml(task.description)}</div>
                        <div class="task-footer">
                            <div class="task-time">–û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</div>
                            <button class="task-btn" onclick="showTaskConfirmation(${task.id}, '${escapeHtml(task.title)}')">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</button>
                        </div>
                    `;
                } else if (status === 'completed') {
                    taskElement.innerHTML = `
                        <div class="task-header">
                            <div>
                                <div class="task-title">${escapeHtml(task.title)}</div>
                                <div class="task-category">${task.category || '–û–±—â–µ–µ'}</div>
                            </div>
                            <div class="task-price">${task.price} ‚≠ê</div>
                        </div>
                        <div class="task-description">${escapeHtml(task.description)}</div>
                        <div class="task-footer">
                            <div class="task-time">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
                            <div class="task-status completed">‚úÖ</div>
                        </div>
                    `;
                } else if (status === 'rejected') {
                    taskElement.innerHTML = `
                        <div class="task-header">
                            <div>
                                <div class="task-title">${escapeHtml(task.title)}</div>
                                <div class="task-category">${task.category || '–û–±—â–µ–µ'}</div>
                            </div>
                            <div class="task-price">${task.price} ‚≠ê</div>
                        </div>
                        <div class="task-description">${escapeHtml(task.description)}</div>
                        <div class="task-footer">
                            <div class="task-time">–û—Ç–∫–ª–æ–Ω–µ–Ω–æ</div>
                            <button class="support-btn" onclick="openAdminChat()">–ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É</button>
                        </div>
                    `;
                }
                
                container.appendChild(taskElement);
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function loadUserTasks() {
            if (!currentUser) return;
            
            try {
                const activeResult = await makeRequest(`${API_URL}/user/${currentUser.id}/tasks?status=active`);
                if (activeResult.success) {
                    displayUserTasksForCategory(activeResult.tasks, 'active');
                }
                
                const completedResult = await makeRequest(`${API_URL}/user/${currentUser.id}/tasks?status=completed`);
                if (completedResult.success) {
                    displayUserTasksForCategory(completedResult.tasks, 'completed');
                }
                
                const rejectedResult = await makeRequest(`${API_URL}/user/${currentUser.id}/tasks?status=rejected`);
                if (rejectedResult.success) {
                    displayUserTasksForCategory(rejectedResult.tasks, 'rejected');
                }
                
            } catch (error) {
                console.error('Error loading user tasks:', error);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –∑–∞–¥–∞–Ω–∏–π
        function initializeSearch() {
            const searchInput = document.getElementById('task-search');
            if (searchInput) {
                let searchTimeout;
                searchInput.addEventListener('input', function(e) {
                    clearTimeout(searchTimeout);
                    const searchText = e.target.value.trim();
                    
                    searchTimeout = setTimeout(() => {
                        if (searchText.length >= 2 || searchText.length === 0) {
                            loadTasks(searchText, getActiveFilter());
                        }
                    }, 300);
                });
            }
            
            const filterButtons = document.querySelectorAll('.filter-btn');
            filterButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const filter = this.getAttribute('data-filter');
                    loadTasks('', filter);
                    
                    filterButtons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        function getActiveFilter() {
            const activeFilter = document.querySelector('.filter-btn.active');
            return activeFilter ? activeFilter.getAttribute('data-filter') : 'all';
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏–π
        async function loadTasks(search = '', category = 'all') {
            try {
                let url = `${API_URL}/tasks`;
                const params = [];
                
                if (search) params.push(`search=${encodeURIComponent(search)}`);
                if (category && category !== 'all') params.push(`category=${encodeURIComponent(category)}`);
                
                if (params.length > 0) {
                    url += '?' + params.join('&');
                }
                
                const result = await makeRequest(url);
                
                if (result.success) {
                    allTasks = result.tasks;
                    displayTasks(result.tasks, 'new');
                }
            } catch (error) {
                console.error('Error loading tasks:', error);
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞–Ω–∏–π', 'error');
            }
        }

        function displayTasks(tasks, category) {
            const container = document.getElementById(category + '-tasks');
            if (!container) return;
            
            container.innerHTML = '';

            if (!tasks || tasks.length === 0) {
                container.innerHTML = `
                    <div class="no-tasks">
                        <div class="no-tasks-icon">üìù</div>
                        <div>–ó–∞–¥–∞–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</div>
                    </div>
                `;
                return;
            }

            tasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.className = 'task-card fade-in';
                taskElement.innerHTML = `
                    <div class="task-header">
                        <div>
                            <div class="task-title">${escapeHtml(task.title)}</div>
                            <div class="task-category">${task.category || '–û–±—â–µ–µ'}</div>
                        </div>
                        <div class="task-price">${task.price} ‚≠ê</div>
                    </div>
                    <div class="task-description">${escapeHtml(task.description)}</div>
                    <div class="task-footer">
                        <div class="task-time">${task.time_to_complete || '5 –º–∏–Ω—É—Ç'}</div>
                        <button class="task-btn" onclick="openTaskModal(${task.id})">–ù–∞—á–∞—Ç—å</button>
                    </div>
                `;
                container.appendChild(taskElement);
            });
        }

        // üîß –§–£–ù–ö–¶–ò–ò –î–õ–Ø –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ê–î–ú–ò–ù–ê–ú–ò
        async function loadAdmins() {
            if (!currentUser || !currentUser.isMainAdmin) {
                console.log('‚ùå User not authorized to load admins');
                return;
            }
            
            try {
                console.log('üîÑ Loading admins...');
                const result = await makeRequest(`${API_URL}/admin/admins?adminId=${currentUser.id}`);
                
                if (result.success) {
                    console.log(`‚úÖ Loaded ${result.admins.length} admins`);
                    displayAdminsTab(result.admins);
                } else {
                    showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞ –∞–¥–º–∏–Ω–æ–≤: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('‚ùå Error loading admins:', error);
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞ –∞–¥–º–∏–Ω–æ–≤: ' + error.message, 'error');
            }
        }

        function displayAdminsTab(admins) {
            const container = document.getElementById('admins-list-tab');
            if (!container) {
                console.error('‚ùå admins-list-tab container not found');
                return;
            }
            
            container.innerHTML = '';
            
            if (!admins || admins.length === 0) {
                container.innerHTML = '<div class="no-tasks">–ù–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</div>';
                return;
            }
            
            admins.forEach(admin => {
                const adminElement = document.createElement('div');
                adminElement.className = 'admin-list-item';
                
                const isMainAdmin = parseInt(admin.user_id) === ADMIN_ID;
                
                adminElement.innerHTML = `
                    <div class="admin-list-header">
                        <div class="admin-list-name">
                            ${admin.first_name} ${admin.last_name || ''}
                            ${isMainAdmin ? ' <span style="color: var(--gold);">(–ì–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω)</span>' : ''}
                        </div>
                        <div class="admin-list-info">
                            @${admin.username} | ID: ${admin.user_id}
                        </div>
                    </div>
                    ${!isMainAdmin ? `
                        <div style="text-align: right; margin-top: 10px;">
                            <button class="admin-task-delete" onclick="removeAdmin(${admin.user_id})">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                    ` : ''}
                `;
                container.appendChild(adminElement);
            });
        }

        async function addAdminFromTab() {
            const usernameInput = document.getElementById('admin-username-tab');
            if (!usernameInput) {
                showNotification('–≠–ª–µ–º–µ–Ω—Ç –≤–≤–æ–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
                return;
            }
            
            const username = usernameInput.value.trim();
            
            if (!username) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ —é–∑–µ—Ä–Ω–µ–π–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', 'error');
                return;
            }
            
            if (!currentUser || !currentUser.isMainAdmin) {
                showNotification('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –¢–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∞–¥–º–∏–Ω–æ–≤.', 'error');
                return;
            }
            
            try {
                console.log('üîÑ Adding admin:', username);
                const result = await makeRequest(`${API_URL}/admin/admins`, {
                    method: 'POST',
                    body: JSON.stringify({
                        adminId: currentUser.id,
                        username: username
                    })
                });
                
                if (result.success) {
                    showNotification('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä!', 'success');
                    usernameInput.value = '';
                    loadAdmins();
                } else {
                    showNotification('–û—à–∏–±–∫–∞: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('‚ùå Error adding admin:', error);
                showNotification('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞: ' + error.message, 'error');
            }
        }

        async function removeAdmin(userId) {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞?')) return;
            
            if (!currentUser || !currentUser.isMainAdmin) {
                showNotification('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –¢–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å –∞–¥–º–∏–Ω–æ–≤.', 'error');
                return;
            }
            
            if (parseInt(userId) === currentUser.id) {
                showNotification('–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å–∞–º–∏ —Å–µ–±—è', 'error');
                return;
            }
            
            try {
                console.log('üîÑ Removing admin:', userId);
                const result = await makeRequest(`${API_URL}/admin/admins/${userId}`, {
                    method: 'DELETE',
                    body: JSON.stringify({
                        adminId: currentUser.id
                    })
                });
                
                if (result.success) {
                    showNotification('–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!', 'success');
                    loadAdmins();
                } else {
                    showNotification('–û—à–∏–±–∫–∞: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('‚ùå Error removing admin:', error);
                showNotification('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞: ' + error.message, 'error');
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∑–∞–¥–∞–Ω–∏–π
        function openTaskModal(taskId) {
            selectedTaskId = taskId;
            
            const task = allTasks.find(t => t.id === taskId);
            if (task) {
                document.getElementById('task-modal-title').textContent = task.title;
                document.getElementById('task-modal-category').textContent = task.category || '–û–±—â–µ–µ';
                document.getElementById('task-modal-price').textContent = `${task.price} ‚≠ê`;
                document.getElementById('task-modal-description').textContent = task.description;
                document.getElementById('task-modal-time').textContent = task.time_to_complete || '5 –º–∏–Ω—É—Ç';
                document.getElementById('task-modal-difficulty').textContent = task.difficulty || '–õ–µ–≥–∫–∞—è';
                document.getElementById('task-modal-available').textContent = `${task.people_required || 1} –∑–∞–¥–∞–Ω–∏–π`;
                
                document.getElementById('task-modal').classList.add('active');
            }
        }

        async function startTask() {
            if (!selectedTaskId || !currentUser) return;
            
            try {
                const result = await makeRequest(`${API_URL}/user/tasks/start`, {
                    method: 'POST',
                    body: JSON.stringify({
                        userId: currentUser.id,
                        taskId: selectedTaskId
                    })
                });

                if (result.success) {
                    showNotification('–ó–∞–¥–∞–Ω–∏–µ –Ω–∞—á–∞—Ç–æ! –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –µ–≥–æ –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ".', 'success');
                    closeModal('task-modal');
                    loadUserTasks();
                } else {
                    showNotification('–û—à–∏–±–∫–∞: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error starting task:', error);
                showNotification('–û—à–∏–±–∫–∞ –Ω–∞—á–∞–ª–∞ –∑–∞–¥–∞–Ω–∏—è', 'error');
            }
            selectedTaskId = null;
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–¥–∞–Ω–∏–π
        function showTaskConfirmation(userTaskId, taskName) {
            currentUserTaskId = userTaskId;
            document.getElementById('confirmation-task-name').textContent = taskName;
            document.getElementById('confirmation-modal').classList.add('active');
        }

        function showScreenshotUpload() {
            closeModal('confirmation-modal');
            closeModal('cancel-confirmation-modal');
            
            document.getElementById('screenshot-file').value = '';
            document.getElementById('screenshot-preview').style.display = 'none';
            document.getElementById('file-name').textContent = '';
            document.getElementById('submit-screenshot-btn').disabled = true;
            
            document.getElementById('screenshot-file').onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    document.getElementById('file-name').textContent = file.name;
                    document.getElementById('submit-screenshot-btn').disabled = false;
                    
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const preview = document.getElementById('screenshot-preview');
                        preview.src = e.target.result;
                        preview.style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }
            };
            
            document.getElementById('screenshot-modal').classList.add('active');
        }

        function showCancelConfirmation() {
            closeModal('confirmation-modal');
            document.getElementById('cancel-confirmation-modal').classList.add('active');
        }

        async function submitScreenshot() {
            const fileInput = document.getElementById('screenshot-file');
            if (!fileInput.files[0]) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª —Å–∫—Ä–∏–Ω—à–æ—Ç–∞', 'error');
                return;
            }

            const formData = new FormData();
            formData.append('screenshot', fileInput.files[0]);
            formData.append('userId', currentUser.id);

            try {
                const response = await fetch(`${API_URL}/user/tasks/${currentUserTaskId}/submit`, {
                    method: 'POST',
                    body: formData
                });

                const result = await response.json();

                if (result.success) {
                    showNotification('–°–∫—Ä–∏–Ω—à–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É!', 'success');
                    closeModal('screenshot-modal');
                    loadUserTasks();
                } else {
                    showNotification('–û—à–∏–±–∫–∞: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error submitting screenshot:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞', 'error');
            }
        }

        async function cancelTask() {
            if (!currentUserTaskId) return;

            try {
                const result = await makeRequest(`${API_URL}/user/tasks/${currentUserTaskId}/cancel`, {
                    method: 'POST',
                    body: JSON.stringify({
                        userId: currentUser.id
                    })
                });

                if (result.success) {
                    showNotification('–ó–∞–¥–∞–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ', 'success');
                    closeModal('cancel-confirmation-modal');
                    loadUserTasks();
                } else {
                    showNotification('–û—à–∏–±–∫–∞: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error cancelling task:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–¥–∞–Ω–∏—è', 'error');
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏–π –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –¥–ª—è –∞–¥–º–∏–Ω–∞
        async function loadTaskVerifications() {
            if (!currentUser || !currentUser.isAdmin) return;

            try {
                const result = await makeRequest(`${API_URL}/admin/task-verifications?adminId=${ADMIN_ID}`);
                if (result.success) {
                    displayTaskVerifications(result.verifications);
                }
            } catch (error) {
                console.error('Error loading task verifications:', error);
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
        function displayTaskVerifications(verifications) {
            const container = document.getElementById('admin-verification-list');
            if (!container) return;

            container.innerHTML = '';

            if (!verifications || verifications.length === 0) {
                container.innerHTML = `
                    <div class="no-tasks" style="text-align: center; padding: 40px 20px;">
                        <div style="font-size: 48px; margin-bottom: 16px;">‚úÖ </div>
                        <div>–ù–µ—Ç –∑–∞–¥–∞–Ω–∏–π –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ</div>
                        <div style="font-size: 14px; color: var(--text-secondary); margin-top: 8px;">
                            –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
                        </div>
                    </div>
                `;
                return;
            }

            verifications.forEach(verification => {
                const verificationElement = document.createElement('div');
                verificationElement.className = 'verification-item';
                verificationElement.onclick = () => openVerificationModal(verification);

                const userAvatar = verification.user_name ? verification.user_name.charAt(0).toUpperCase() : 'U';
                const submissionTime = formatPostDate(verification.submitted_at);

                verificationElement.innerHTML = `
                    <div class="verification-header">
                        <div class="verification-avatar">
                            ${userAvatar}
                        </div>
                        <div class="verification-user-info">
                            <div class="verification-user-name">
                                ${verification.user_name}
                                ${verification.username ? `(@${verification.username})` : ''}
                            </div>
                            <div class="verification-task-title">${verification.task_title}</div>
                        </div>
                        <div class="verification-price">${verification.task_price} ‚≠ê</div>
                    </div>
                    <div class="verification-time">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: ${submissionTime}</div>
                `;

                container.appendChild(verificationElement);
            });
        }

        // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–¥–∞–Ω–∏—è
        function openVerificationModal(verification) {
            currentVerificationId = verification.id;

            document.getElementById('verification-user-avatar').textContent = 
                verification.user_name ? verification.user_name.charAt(0).toUpperCase() : 'U';
            document.getElementById('verification-user-name').textContent = verification.user_name;
            document.getElementById('verification-task-title').textContent = verification.task_title;
            document.getElementById('verification-task-price').textContent = verification.task_price + ' ‚≠ê';
            
            const screenshotImg = document.getElementById('verification-screenshot');
            screenshotImg.src = verification.screenshot_url;
            screenshotImg.onerror = function() {
                this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjMWExYTNhIi8+Cjx0ZXh0IHg9IjEwMCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM4YjlkZGEiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K';
            };

            document.getElementById('verification-modal').classList.add('active');
        }

        // –û–¥–æ–±—Ä–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ
        async function approveVerification() {
            if (!currentVerificationId) {
                showNotification('ID –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
                return;
            }

            try {
                console.log(`üîÑ –û–¥–æ–±—Ä—è–µ–º –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é: ${currentVerificationId}`);
                
                const result = await makeRequest(`${API_URL}/admin/task-verifications/${currentVerificationId}/approve`, {
                    method: 'POST',
                    body: JSON.stringify({
                        adminId: currentUser.id
                    })
                });

                if (result.success) {
                    console.log('‚úÖ –û–¥–æ–±—Ä–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ');
                    showNotification(`‚úÖ –ó–∞–¥–∞–Ω–∏–µ –æ–¥–æ–±—Ä–µ–Ω–æ! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª ${result.amountAdded}‚≠ê`, 'success');
                    closeModal('verification-modal');
                    
                    await updateUserData();
                    
                    loadTaskVerifications();
                    loadUserTasks();
                    
                } else {
                    console.error('‚ùå –û—à–∏–±–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–∏—è:', result.error);
                    showNotification('–û—à–∏–±–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–∏—è: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('‚ùå –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏:', error);
                showNotification('–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è', 'error');
            }
        }

        // –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ
        async function rejectVerification() {
            if (!currentVerificationId) return;

            try {
                const result = await makeRequest(`${API_URL}/admin/task-verifications/${currentVerificationId}/reject`, {
                    method: 'POST',
                    body: JSON.stringify({
                        adminId: currentUser.id
                    })
                });

                if (result.success) {
                    showNotification('–ó–∞–¥–∞–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ', 'success');
                    closeModal('verification-modal');
                    loadTaskVerifications();
                } else {
                    showNotification('–û—à–∏–±–∫–∞: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error rejecting verification:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è', 'error');
            }
        }

        // üîß –ê–î–ú–ò–ù-–§–£–ù–ö–¶–ò–ò
        async function addNewPost() {
            const title = document.getElementById('admin-post-title').value;
            const content = document.getElementById('admin-post-content').value;
            
            if (!title || !content) {
                showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ—Å—Ç–∞!', 'error');
                return;
            }
            
            if (!currentUser.isAdmin || parseInt(currentUser.id) !== ADMIN_ID) {
                showNotification('–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã!', 'error');
                return;
            }
            
            try {
                const result = await makeRequest(`${API_URL}/posts`, {
                    method: 'POST',
                    body: JSON.stringify({
                        title: title,
                        content: content,
                        author: currentUser.firstName,
                        authorId: currentUser.id
                    })
                });

                if (result.success) {
                    showNotification('–ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω!', 'success');
                    document.getElementById('admin-post-title').value = '';
                    document.getElementById('admin-post-content').value = '';
                    loadMainPagePosts();
                } else {
                    showNotification('–û—à–∏–±–∫–∞: ' + result.error, 'error');
                }
                
            } catch (error) {
                console.error('Error adding post:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: ' + error.message, 'error');
            }
        }

        async function addTask() {
            const title = document.getElementById('admin-task-title').value;
            const description = document.getElementById('admin-task-description').value;
            const price = document.getElementById('admin-task-price').value;

            if (!title || !description || !price) {
                showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ –∏ —Ü–µ–Ω–∞!', 'error');
                return;
            }

            if (!currentUser || !currentUser.isAdmin || parseInt(currentUser.id) !== ADMIN_ID) {
                showNotification('–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è!', 'error');
                return;
            }

            try {
                const result = await makeRequest(`${API_URL}/tasks`, {
                    method: 'POST',
                    body: JSON.stringify({
                        title: title,
                        description: description,
                        price: parseFloat(price) || 0,
                        created_by: currentUser.id
                    })
                });

                if (result.success) {
                    showNotification('–ó–∞–¥–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ!', 'success');
                    
                    document.getElementById('admin-task-title').value = '';
                    document.getElementById('admin-task-description').value = '';
                    document.getElementById('admin-task-price').value = '';
                    
                    loadAdminTasks();
                    loadTasks();
                    
                } else {
                    showNotification('–û—à–∏–±–∫–∞: ' + result.error, 'error');
                }
                
            } catch (error) {
                console.error('Error creating task:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: ' + error.message, 'error');
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏–π –¥–ª—è –∞–¥–º–∏–Ω–∞
        async function loadAdminTasks() {
            if (!currentUser || !currentUser.isAdmin) return;
            
            try {
                const result = await makeRequest(`${API_URL}/admin/tasks?adminId=${ADMIN_ID}`);
                if (result.success) {
                    displayAdminTasks(result.tasks);
                }
            } catch (error) {
                console.error('Error loading admin tasks:', error);
            }
        }

        function displayAdminTasks(tasks) {
            const container = document.getElementById('admin-tasks-list');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (!tasks || tasks.length === 0) {
                container.innerHTML = '<div class="no-tasks" style="text-align: center; padding: 20px;">–ù–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π</div>';
                return;
            }
            
            tasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.className = 'admin-task-item';
                taskElement.innerHTML = `
                    <div class="admin-task-header">
                        <div class="admin-task-title">${task.title}</div>
                        <div class="admin-task-actions">
                            <button class="admin-task-delete" onclick="deleteTask(${task.id})">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                    </div>
                    <div class="admin-task-description">${task.description}</div>
                    <div class="admin-task-details">
                        <span class="admin-task-price">${task.price} ‚≠ê</span>
                        <span class="admin-task-category">${task.category}</span>
                    </div>
                `;
                container.appendChild(taskElement);
            });
        }

        async function deletePost(postId) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –ø–æ—Å—Ç?')) return;
            
            if (!currentUser.isAdmin || parseInt(currentUser.id) !== ADMIN_ID) {
                showNotification('–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å –ø–æ—Å—Ç—ã!', 'error');
                return;
            }
            
            try {
                const result = await makeRequest(`${API_URL}/posts/${postId}`, {
                    method: 'DELETE',
                    body: JSON.stringify({ authorId: currentUser.id })
                });

                if (result.success) {
                    showNotification('–ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!', 'success');
                    loadMainPagePosts();
                } else {
                    showNotification('–û—à–∏–±–∫–∞: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error deleting post:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: ' + error.message, 'error');
            }
        }

        async function deleteTask(taskId) {
            if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ –∑–∞–¥–∞–Ω–∏–µ?')) return;
            
            if (!currentUser.isAdmin || parseInt(currentUser.id) !== ADMIN_ID) {
                showNotification('–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å –∑–∞–¥–∞–Ω–∏—è!', 'error');
                return;
            }
            
            try {
                const result = await makeRequest(`${API_URL}/tasks/${taskId}`, {
                    method: 'DELETE',
                    body: JSON.stringify({ adminId: currentUser.id })
                });

                if (result.success) {
                    showNotification('–ó–∞–¥–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ!', 'success');
                    loadAdminTasks();
                    loadTasks();
                } else {
                    showNotification('–û—à–∏–±–∫–∞: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error deleting task:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: ' + error.message, 'error');
            }
        }

        // üîß –°–ò–°–¢–ï–ú–ê –ß–ê–¢–û–í
        async function openAdminChat() {
            if (!currentUser) {
                showNotification('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω', 'error');
                return;
            }
            
            try {
                console.log('üë§ User opening support chat, ID:', currentUser.id);
                
                const chatResult = await makeRequest(`${API_URL}/support/user-chat/${currentUser.id}`);
                
                if (chatResult.success) {
                    currentChatId = chatResult.chat.id;
                    console.log('‚úÖ Chat ID:', currentChatId);
                    
                    try {
                        const messagesResult = await makeRequest(`${API_URL}/support/chats/${currentChatId}/messages`);
                        if (messagesResult.success) {
                            displayChatMessages(messagesResult.messages);
                        }
                    } catch (messagesError) {
                        console.log('No messages yet or error loading messages:', messagesError);
                        displayChatMessages([]);
                    }
                    
                    document.getElementById('admin-chat').classList.add('active');
                    
                } else {
                    throw new Error(chatResult.error || 'Failed to create chat');
                }
            } catch (error) {
                console.error('‚ùå Error opening user chat:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è —á–∞—Ç–∞: ' + error.message, 'error');
            }
        }

        async function sendMessageToAdmin() {
            if (!currentUser || !currentChatId) {
                showNotification('–ß–∞—Ç –Ω–µ –æ—Ç–∫—Ä—ã—Ç', 'error');
                return;
            }
            
            const input = document.getElementById('chat-input-field');
            const message = input.value.trim();
            
            if (!message) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ', 'error');
                return;
            }
            
            try {
                console.log(`‚úâÔ∏è User sending message to chat ${currentChatId}:`, message);
                
                const userFullName = currentUser.lastName ? 
                    `${currentUser.firstName} ${currentUser.lastName}` : 
                    currentUser.firstName;
                
                const result = await makeRequest(`${API_URL}/support/chats/${currentChatId}/messages`, {
                    method: 'POST',
                    body: JSON.stringify({
                        user_id: currentUser.id,
                        user_name: userFullName,
                        message: message,
                        is_admin: false
                    })
                });
                
                if (result.success) {
                    const messagesContainer = document.getElementById('chat-messages');
                    const messageElement = document.createElement('div');
                    messageElement.className = 'message message-user';
                    messageElement.innerHTML = `
                        <div class="message-text">${escapeHtml(message)}</div>
                        <div class="message-time">${new Date().toLocaleTimeString('ru-RU', {hour: '2-digit', minute:'2-digit'})}</div>
                    `;
                    messagesContainer.appendChild(messageElement);
                    
                    input.value = '';
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    
                    showNotification('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–≤–µ—Ç–∏—Ç –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.', 'success');
                    
                    if (currentUser.isAdmin) {
                        setTimeout(loadAdminChats, 1000);
                    }
                } else {
                    throw new Error(result.error);
                }
            } catch (error) {
                console.error('‚ùå Error sending message:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: ' + error.message, 'error');
            }
        }

        function displayChatMessages(messages) {
            const messagesContainer = document.getElementById('chat-messages');
            if (!messagesContainer) return;
            
            messagesContainer.innerHTML = '';
            
            if (!messages || messages.length === 0) {
                const welcomeMessage = document.createElement('div');
                welcomeMessage.className = 'message message-admin';
                welcomeMessage.innerHTML = `
                    <div class="message-text">–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?</div>
                    <div class="message-time">${new Date().toLocaleTimeString('ru-RU', {hour: '2-digit', minute:'2-digit'})}</div>
                `;
                messagesContainer.appendChild(welcomeMessage);
                return;
            }
            
            messages.forEach(message => {
                const messageElement = document.createElement('div');
                messageElement.className = message.is_admin ? 'message message-admin' : 'message message-user';
                
                messageElement.innerHTML = `
                    <div class="message-text">${escapeHtml(message.message)}</div>
                    <div class="message-time">${formatPostDate(message.sent_at)}</div>
                `;
                messagesContainer.appendChild(messageElement);
            });
            
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function closeChat() {
            document.getElementById('admin-chat').classList.remove('active');
            currentChatId = null;
        }

        // üîß –§–£–ù–ö–¶–ò–ò –ù–ê–í–ò–ì–ê–¶–ò–ò
        function showMainTab() {
            hideAllTabs();
            document.getElementById('main-tab').classList.add('active');
            updateNavState('main');
        }

        function showTasksTab() {
            hideAllTabs();
            document.getElementById('tasks-tab').classList.add('active');
            updateNavState('tasks');
        }

        function showProfileTab() {
            hideAllTabs();
            document.getElementById('profile-tab').classList.add('active');
            updateNavState('profile');
        }

        function showAdminTab() {
            if (!currentUser || !currentUser.isAdmin) {
                showNotification('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω!', 'error');
                return;
            }
            
            console.log('üîÑ Opening admin tab, user:', {
                id: currentUser.id,
                isAdmin: currentUser.isAdmin,
                isMainAdmin: currentUser.isMainAdmin
            });
            
            hideAllTabs();
            document.getElementById('admin-tab').classList.add('active');
            updateNavState('admin');
            
            setTimeout(() => {
                showAdminSection('admins');
            }, 100);
        }

        function showWithdrawPage() {
            hideAllTabs();
            document.getElementById('withdraw-page').classList.add('active');
            
            const withdrawBalance = document.getElementById('withdraw-balance');
            if (withdrawBalance && currentUser) {
                withdrawBalance.textContent = `${currentUser.balance || 0} ‚≠ê`;
            }
        }

        function showHowItWorksPage() {
            hideAllTabs();
            document.getElementById('how-it-works-page').classList.add('active');
        }

        function showAboutPage() {
            hideAllTabs();
            document.getElementById('about-page').classList.add('active');
        }

        function goBackToProfile() {
            showProfileTab();
        }

        function hideAllTabs() {
            const allElements = document.querySelectorAll('.tab-content, .page');
            allElements.forEach(element => {
                element.classList.remove('active');
            });
        }

        function updateNavState(activeTab) {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const navItems = document.querySelectorAll('.nav-item');
            switch(activeTab) {
                case 'main': 
                    if (navItems[0]) navItems[0].classList.add('active'); 
                    break;
                case 'tasks': 
                    if (navItems[1]) navItems[1].classList.add('active'); 
                    break;
                case 'profile': 
                    if (navItems[2]) navItems[2].classList.add('active'); 
                    break;
                case 'admin': 
                    if (navItems[3]) navItems[3].classList.add('active'); 
                    break;
            }
        }

        // –ê–î–ú–ò–ù –§–£–ù–ö–¶–ò–ò
        function showAdminSection(section) {
            document.querySelectorAll('.admin-section').forEach(sec => {
                sec.style.display = 'none';
            });
            
            const targetSection = document.getElementById('admin-' + section + '-section');
            if (targetSection) {
                targetSection.style.display = 'block';
                
                switch(section) {
                    case 'admins':
                        if (currentUser && currentUser.isMainAdmin) {
                            loadAdmins();
                        }
                        break;
                    case 'posts':
                        loadAdminPosts();
                        break;
                    case 'tasks':
                        loadAdminTasks();
                        break;
                    case 'verification':
                        loadTaskVerifications();
                        break;
                    case 'support':
                        showChatTab('active');
                        break;
                }
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—Å—Ç–æ–≤ –∞–¥–º–∏–Ω–∞
        async function loadAdminPosts() {
            if (!currentUser || !currentUser.isAdmin) return;
            
            try {
                const result = await makeRequest(`${API_URL}/posts`);
                if (result.success) {
                    displayAdminPosts(result.posts);
                }
            } catch (error) {
                console.error('Error loading admin posts:', error);
            }
        }

        function displayAdminPosts(posts) {
            const container = document.getElementById('admin-posts-list');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (!posts || posts.length === 0) {
                container.innerHTML = '<div class="no-tasks">–ù–µ—Ç –ø–æ—Å—Ç–æ–≤</div>';
                return;
            }
            
            posts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'admin-list-item';
                postElement.innerHTML = `
                    <div class="admin-list-header">
                        <div class="admin-list-name">${escapeHtml(post.title)}</div>
                        <div class="admin-list-info">${formatPostDate(post.timestamp)}</div>
                    </div>
                    <div style="margin-top: 8px; color: var(--text-secondary); font-size: 14px;">
                        ${escapeHtml(post.content.substring(0, 100))}...
                    </div>
                    <div style="text-align: right; margin-top: 10px;">
                        <button class="admin-task-delete" onclick="deletePost(${post.id})">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                `;
                container.appendChild(postElement);
            });
        }

        // üé® –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
        function escapeHtml(unsafe) {
            if (!unsafe) return '';
            return unsafe
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        function formatPostDate(timestamp) {
            if (!timestamp) return '';
            
            const date = new Date(timestamp);
            const moscowTime = new Date(date.getTime() + (3 * 60 * 60 * 1000));
            
            const now = new Date();
            const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
            const postDate = new Date(moscowTime.getFullYear(), moscowTime.getMonth(), moscowTime.getDate());
            
            const diffTime = now - date;
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays === 0) {
                return `–°–µ–≥–æ–¥–Ω—è, ${moscowTime.toLocaleTimeString('ru-RU', { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    timeZone: 'Europe/Moscow'
                })} (–ú–°–ö)`;
            } else if (diffDays === 1) {
                return `–í—á–µ—Ä–∞, ${moscowTime.toLocaleTimeString('ru-RU', { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    timeZone: 'Europe/Moscow'
                })} (–ú–°–ö)`;
            } else {
                return `${moscowTime.toLocaleDateString('ru-RU', {
                    day: 'numeric',
                    month: 'long',
                    timeZone: 'Europe/Moscow'
                })}, ${moscowTime.toLocaleTimeString('ru-RU', { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    timeZone: 'Europe/Moscow'
                })} (–ú–°–ö)`;
            }
        }

        function showNotification(message, type = 'info') {
            document.querySelectorAll('.notification').forEach(notification => {
                notification.remove();
            });
            
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">${message}</div>
                <button class="notification-close" onclick="this.parentElement.remove()">√ó</button>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        function copyReferralLink() {
            const referralInput = document.getElementById('referral-link');
            if (!referralInput) return;
            
            referralInput.select();
            referralInput.setSelectionRange(0, 99999);
            
            navigator.clipboard.writeText(referralInput.value).then(() => {
                showNotification('–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!', 'success');
            }).catch(() => {
                document.execCommand('copy');
                showNotification('–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!', 'success');
            });
        }

        function showBalanceModal() {
            document.getElementById('balance-modal').classList.add('active');
        }

        function showPrices() {
            document.getElementById('prices-modal').classList.add('active');
        }

        function openAdminChatFromPrices() {
            document.getElementById('prices-modal').classList.remove('active');
            setTimeout(() => {
                document.getElementById('admin-chat').classList.add('active');
            }, 300);
        }

        function goToProfile() {
            closeModal('balance-modal');
            showProfileTab();
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–æ–≤ –Ω–∞ –≥–ª–∞–≤–Ω—É—é
        async function loadMainPagePosts() {
            try {
                const result = await makeRequest(`${API_URL}/posts`);
                
                if (result.success && result.posts && result.posts.length > 0) {
                    displayMainPagePosts(result.posts);
                } else {
                    hidePostsSection();
                }
            } catch (error) {
                console.error('Error loading posts:', error);
                hidePostsSection();
            }
        }

        function displayMainPagePosts(posts) {
            const postsSection = document.getElementById('posts-section');
            const postsContainer = document.getElementById('posts-container');
            
            if (!postsContainer) return;
            
            if (postsSection) postsSection.style.display = 'block';
            
            postsContainer.innerHTML = '';
            
            if (!posts || posts.length === 0) {
                postsContainer.innerHTML = `
                    <div class="no-tasks" style="text-align: center; padding: 40px 20px;">
                        <div style="font-size: 48px; margin-bottom: 16px;">üìù</div>
                        <div>–ü–æ–∫–∞ –Ω–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–π</div>
                        <div style="font-size: 14px; color: var(--text-secondary); margin-top: 8px;">
                            –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
                        </div>
                    </div>
                `;
                return;
            }
            
            posts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'post-item fade-in';
                
                const postDate = formatPostDate(post.timestamp);
                const isAdmin = post.authorId === ADMIN_ID;
                
                postElement.innerHTML = `
                    <div class="post-header">
                        <div style="flex: 1;">
                            <div class="post-title">${escapeHtml(post.title)}</div>
                            <div class="post-author">
                                ${escapeHtml(post.author || '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä')}
                            </div>
                        </div>
                        <div class="post-date">${postDate}</div>
                    </div>
                    
                    <div class="post-content">${escapeHtml(post.content)}</div>
                    
                    ${post.image_url ? `
                        <img src="${post.image_url}" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" class="post-image" onerror="this.style.display='none'">
                    ` : ''}
                    
                    <div class="post-footer">
                        <div class="post-actions">
                            <button class="like-btn" onclick="handleLike(${post.id}, this)">
                                <span class="like-icon">üëç</span>
                                <span class="like-count">${post.likes || 0}</span>
                            </button>
                            <button class="dislike-btn" onclick="handleDislike(${post.id}, this)">
                                <span class="dislike-icon">üëé</span>
                                <span class="dislike-count">${post.dislikes || 0}</span>
                            </button>
                        </div>
                    </div>
                    
                    ${currentUser && currentUser.isAdmin && parseInt(currentUser.id) === ADMIN_ID ? `
                        <div style="margin-top: 15px; text-align: right;">
                            <button class="admin-task-delete" onclick="deletePost(${post.id})" style="font-size: 12px; padding: 6px 12px;">
                                üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç
                            </button>
                        </div>
                    ` : ''}
                `;
                
                postsContainer.appendChild(postElement);
            });
        }

        function hidePostsSection() {
            const postsSection = document.getElementById('posts-section');
            if (postsSection) postsSection.style.display = 'none';
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ª–∞–π–∫–æ–≤ –∏ –¥–∏–∑–ª–∞–π–∫–æ–≤
        async function handleLike(postId, button) {
            try {
                const result = await makeRequest(`${API_URL}/posts/${postId}/like`, {
                    method: 'POST',
                    body: JSON.stringify({
                        userId: currentUser.id
                    })
                });

                if (result.success) {
                    const countElement = button.querySelector('.like-count');
                    countElement.textContent = result.likes;
                    
                    button.style.transform = 'scale(1.1)';
                    setTimeout(() => {
                        button.style.transform = 'scale(1)';
                    }, 200);
                }
            } catch (error) {
                console.error('Error liking post:', error);
                const countElement = button.querySelector('.like-count');
                countElement.textContent = parseInt(countElement.textContent) + 1;
                
                button.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    button.style.transform = 'scale(1)';
                }, 200);
            }
        }

        async function handleDislike(postId, button) {
            try {
                const result = await makeRequest(`${API_URL}/posts/${postId}/dislike`, {
                    method: 'POST',
                    body: JSON.stringify({
                        userId: currentUser.id
                    })
                });

                if (result.success) {
                    const countElement = button.querySelector('.dislike-count');
                    countElement.textContent = result.dislikes;
                    
                    button.style.transform = 'scale(1.1)';
                    setTimeout(() => {
                        button.style.transform = 'scale(1)';
                    }, 200);
                }
            } catch (error) {
                console.error('Error disliking post:', error);
                const countElement = button.querySelector('.dislike-count');
                countElement.textContent = parseInt(countElement.textContent) + 1;
                
                button.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    button.style.transform = 'scale(1)';
                }, 200);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –≤—ã–≤–æ–¥
        async function submitWithdraw() {
            if (!currentUser) {
                showNotification('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω', 'error');
                return;
            }
            
            const amountInput = document.getElementById('withdraw-amount');
            const methodSelect = document.getElementById('withdraw-method');
            const detailsInput = document.getElementById('withdraw-details');
            
            const amount = parseFloat(amountInput?.value);
            const method = methodSelect?.value;
            const details = detailsInput?.value?.trim();
            
            if (!amount || amount <= 0) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É', 'error');
                return;
            }
            
            if (amount < 50) {
                showNotification('–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞: 150 ‚≠ê', 'error');
                return;
            }
            
            if (amount > (currentUser.balance || 0)) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ', 'error');
                return;
            }
            
            if (!method) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –≤—ã–≤–æ–¥–∞', 'error');
                return;
            }
            
            if (!details) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –≤—ã–≤–æ–¥–∞', 'error');
                return;
            }
            
            try {
                const result = await makeRequest(`${API_URL}/withdrawal/request`, {
                    method: 'POST',
                    body: JSON.stringify({
                        user_id: currentUser.id,
                        amount: amount,
                        method: method,
                        details: details
                    })
                });

                if (result.success) {
                    showNotification(`–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥ ${amount}‚≠ê –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –û–∂–∏–¥–∞–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.`, 'success');
                    
                    if (amountInput) amountInput.value = '';
                    if (methodSelect) methodSelect.value = '';
                    if (detailsInput) detailsInput.value = '';
                    
                    if (currentUser.balance) {
                        currentUser.balance -= amount;
                    }
                    
                    displayUserProfile();
                    
                    setTimeout(() => {
                        showProfileTab();
                    }, 2000);
                    
                } else {
                    showNotification('–û—à–∏–±–∫–∞: ' + (result.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'), 'error');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–≤–æ–¥–µ —Å—Ä–µ–¥—Å—Ç–≤:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞', 'error');
            }
        }

        // üîß –≠–ö–°–ü–û–†–¢ –§–£–ù–ö–¶–ò–ô
        window.showTaskCategory = showTaskCategory;
        window.loadUserTasksForCategory = loadUserTasksForCategory;
        window.displayUserTasksForCategory = displayUserTasksForCategory;
        window.openAdminChat = openAdminChat;
        window.closeChat = closeChat;
        window.sendMessageToAdmin = sendMessageToAdmin;
        window.openTaskModal = openTaskModal;
        window.startTask = startTask;
        window.closeModal = closeModal;
        window.showBalanceModal = showBalanceModal;
        window.showPrices = showPrices;
        window.openAdminChatFromPrices = openAdminChatFromPrices;
        window.goToProfile = goToProfile;
        window.copyReferralLink = copyReferralLink;
        window.submitWithdraw = submitWithdraw;
        window.showMainTab = showMainTab;
        window.showTasksTab = showTasksTab;
        window.showProfileTab = showProfileTab;
        window.showAdminTab = showAdminTab;
        window.showHowItWorksPage = showHowItWorksPage;
        window.showAboutPage = showAboutPage;
        window.showWithdrawPage = showWithdrawPage;
        window.showAdminSection = showAdminSection;
        window.addNewPost = addNewPost;
        window.addTask = addTask;
        window.deletePost = deletePost;
        window.deleteTask = deleteTask;
        window.handleLike = handleLike;
        window.handleDislike = handleDislike;
        window.showTaskConfirmation = showTaskConfirmation;
        window.showScreenshotUpload = showScreenshotUpload;
        window.showCancelConfirmation = showCancelConfirmation;
        window.submitScreenshot = submitScreenshot;
        window.cancelTask = cancelTask;
        window.loadTaskVerifications = loadTaskVerifications;
        window.openVerificationModal = openVerificationModal;
        window.approveVerification = approveVerification;
        window.rejectVerification = rejectVerification;
        window.goBackToProfile = goBackToProfile;
    </script>
</body>
</html>